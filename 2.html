<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<style>
		canvas{
			border:1px solid #666;
		}
	</style>
	<body>
		<canvas width = '1000px' height = '1000px'></canvas>
		
		<script>
			const cv = document.querySelector('canvas');
			const c = cv.getContext('2d');
			const img = new Image();
			img.src = '1.jpg';
			img.onload = function(){
				c.beginPath();
				c.drawImage(img, 100, 100, 800, 800)
				
				c.beginPath();
				
				let imgdata = c.getImageData(400, 400, 200, 200);
				for(let i = 0; i< imgdata.data.length; i+=4){
					imgdata.data[i] += (Math.random()*256 -125);//r
					imgdata.data[i+1] += (Math.random()*256 -125);//g
					imgdata.data[i+2] += (Math.random()*256 -125);//b
					imgdata.data[i+3] =  Math.random()*256 ;//a 半透明
				}
				
				c.putImageData(imgdata, 400, 400)
			}
			
		</script>
	</body>
</html>
